<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>函数 | 西蒙无敌</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="life is fxxing movie">
    
    <link rel="preload" href="./assets/css/0.styles.972adae9.css" as="style"><link rel="preload" href="./assets/js/app.f139b321.js" as="script"><link rel="preload" href="./assets/js/2.3429f92b.js" as="script"><link rel="preload" href="./assets/js/23.39a089e5.js" as="script"><link rel="prefetch" href="./assets/js/10.f1d553d1.js"><link rel="prefetch" href="./assets/js/11.c4747e86.js"><link rel="prefetch" href="./assets/js/12.c1cb2abe.js"><link rel="prefetch" href="./assets/js/13.d32a15ff.js"><link rel="prefetch" href="./assets/js/14.8d23d477.js"><link rel="prefetch" href="./assets/js/15.9432b7e8.js"><link rel="prefetch" href="./assets/js/16.c8941f76.js"><link rel="prefetch" href="./assets/js/17.c67f01e4.js"><link rel="prefetch" href="./assets/js/18.76a5ecb0.js"><link rel="prefetch" href="./assets/js/19.db26ccc0.js"><link rel="prefetch" href="./assets/js/20.473d1127.js"><link rel="prefetch" href="./assets/js/21.fc4e5dff.js"><link rel="prefetch" href="./assets/js/22.4f6f66c8.js"><link rel="prefetch" href="./assets/js/24.9f842e92.js"><link rel="prefetch" href="./assets/js/3.632fd093.js"><link rel="prefetch" href="./assets/js/4.0db1b887.js"><link rel="prefetch" href="./assets/js/5.f9c8fe08.js"><link rel="prefetch" href="./assets/js/6.0ab9ae4b.js"><link rel="prefetch" href="./assets/js/7.510cfdcb.js"><link rel="prefetch" href="./assets/js/8.84de6c85.js"><link rel="prefetch" href="./assets/js/9.a3e6b837.js">
    <link rel="stylesheet" href="./assets/css/0.styles.972adae9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><!----> <span class="site-name">西蒙无敌</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="底层语言" class="dropdown-title"><span class="title">底层语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="底层语言" class="mobile-dropdown-title"><span class="title">底层语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          学习汇编
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./css/basic/" class="nav-link">
  汇编语言
</a></li></ul></li><li class="dropdown-item"><h4>
          重温C++
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./css/basic/" class="nav-link">
  C++基础
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="IOS开发" class="dropdown-title"><span class="title">IOS开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="IOS开发" class="mobile-dropdown-title"><span class="title">IOS开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Swift语言
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./swift/init/" class="nav-link">
  基础知识
</a></li><li class="dropdown-subitem"><a href="/./swift/flow/" class="nav-link">
  流程控制
</a></li><li class="dropdown-subitem"><a href="/./swift/func/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  函数
</a></li></ul></li><li class="dropdown-item"><h4>
          Object-c
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./object-c/init/" class="nav-link">
  基础知识
</a></li><li class="dropdown-subitem"><a href="/./object-c/flow/" class="nav-link">
  流程控制
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JavaScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./javascript/basic/" class="nav-link">
  js基础知识
</a></li></ul></li><li class="dropdown-item"><h4>
          ES6语法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./javascript/es6/" class="nav-link">
  ES6语法
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS进阶" class="dropdown-title"><span class="title">CSS进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS进阶" class="mobile-dropdown-title"><span class="title">CSS进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Css
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./css/basic/" class="nav-link">
  Css框模型
</a></li><li class="dropdown-subitem"><a href="/./css/flex/" class="nav-link">
  Flex弹性布局
</a></li><li class="dropdown-subitem"><a href="/./css/grid/" class="nav-link">
  Grid网格布局
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法刷题" class="dropdown-title"><span class="title">算法刷题</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法刷题" class="mobile-dropdown-title"><span class="title">算法刷题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          努力刷题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./leetcode/day/" class="nav-link">
  每日一题
</a></li><li class="dropdown-subitem"><a href="/./leetcode/week/" class="nav-link">
  每周大题
</a></li></ul></li><li class="dropdown-item"><h4>
          大题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./leetcode/difficult/" class="nav-link">
  难题详解
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="服务器相关" class="dropdown-title"><span class="title">服务器相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="服务器相关" class="mobile-dropdown-title"><span class="title">服务器相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器相关
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./server/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/./server/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/./server/mongo/" class="nav-link">
  Mongo
</a></li><li class="dropdown-subitem"><a href="/./server/jenkins/" class="nav-link">
  Jenkins
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="底层语言" class="dropdown-title"><span class="title">底层语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="底层语言" class="mobile-dropdown-title"><span class="title">底层语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          学习汇编
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./css/basic/" class="nav-link">
  汇编语言
</a></li></ul></li><li class="dropdown-item"><h4>
          重温C++
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./css/basic/" class="nav-link">
  C++基础
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="IOS开发" class="dropdown-title"><span class="title">IOS开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="IOS开发" class="mobile-dropdown-title"><span class="title">IOS开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Swift语言
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./swift/init/" class="nav-link">
  基础知识
</a></li><li class="dropdown-subitem"><a href="/./swift/flow/" class="nav-link">
  流程控制
</a></li><li class="dropdown-subitem"><a href="/./swift/func/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  函数
</a></li></ul></li><li class="dropdown-item"><h4>
          Object-c
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./object-c/init/" class="nav-link">
  基础知识
</a></li><li class="dropdown-subitem"><a href="/./object-c/flow/" class="nav-link">
  流程控制
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JavaScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./javascript/basic/" class="nav-link">
  js基础知识
</a></li></ul></li><li class="dropdown-item"><h4>
          ES6语法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./javascript/es6/" class="nav-link">
  ES6语法
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS进阶" class="dropdown-title"><span class="title">CSS进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS进阶" class="mobile-dropdown-title"><span class="title">CSS进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Css
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./css/basic/" class="nav-link">
  Css框模型
</a></li><li class="dropdown-subitem"><a href="/./css/flex/" class="nav-link">
  Flex弹性布局
</a></li><li class="dropdown-subitem"><a href="/./css/grid/" class="nav-link">
  Grid网格布局
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法刷题" class="dropdown-title"><span class="title">算法刷题</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法刷题" class="mobile-dropdown-title"><span class="title">算法刷题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          努力刷题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./leetcode/day/" class="nav-link">
  每日一题
</a></li><li class="dropdown-subitem"><a href="/./leetcode/week/" class="nav-link">
  每周大题
</a></li></ul></li><li class="dropdown-item"><h4>
          大题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./leetcode/difficult/" class="nav-link">
  难题详解
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="服务器相关" class="dropdown-title"><span class="title">服务器相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="服务器相关" class="mobile-dropdown-title"><span class="title">服务器相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器相关
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./server/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/./server/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/./server/mongo/" class="nav-link">
  Mongo
</a></li><li class="dropdown-subitem"><a href="/./server/jenkins/" class="nav-link">
  Jenkins
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Swift</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./swift/init/" class="sidebar-link">Swift基础语法</a></li><li><a href="/./swift/flow/" class="sidebar-link">流程控制</a></li><li><a href="/./swift/func/" aria-current="page" class="active sidebar-link">函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./swift/func/#函数" class="sidebar-link">函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./swift/func/#函数的定义" class="sidebar-link">函数的定义</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#隐式返回" class="sidebar-link">隐式返回</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#函数注释" class="sidebar-link">函数注释</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#参数标签" class="sidebar-link">参数标签</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#默认参数值-省略参数标签-default-parameter-value" class="sidebar-link">默认参数值 省略参数标签 _ ( Default Parameter Value)</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#可变参数-variadic-parameter" class="sidebar-link">可变参数 ( Variadic Parameter )</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#swift-自带的print函数" class="sidebar-link">Swift 自带的Print函数</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#输入输出参数-in-out-parameter" class="sidebar-link">输入输出参数（In-Out Parameter)</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#inout参数的本质是地址传递-引用传递-汇编观察编译过程" class="sidebar-link">inout参数的本质是地址传递（引用传递）--汇编观察编译过程</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#函数重载-function-overload" class="sidebar-link">函数重载（Function Overload)</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#内联函数-inline-function" class="sidebar-link">内联函数（Inline Function）</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#函数类型-function-type" class="sidebar-link">函数类型（Function Type）</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#typealias" class="sidebar-link">typealias</a></li><li class="sidebar-sub-header"><a href="/./swift/func/#嵌套函数-nested-function" class="sidebar-link">嵌套函数（Nested Function）</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <h3 id="函数的定义"><a href="#函数的定义" class="header-anchor">#</a> 函数的定义</h3> <p><img src="https://gitee.com/cnmz/images/raw/master/mdpic/image-20220115142748397.png" alt="image-20220115142748397"></p> <h3 id="隐式返回"><a href="#隐式返回" class="header-anchor">#</a> 隐式返回</h3> <p>只有一个表达式，默认return return可以省略</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span>v2<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span><span class="token punctuation">{</span>
	v1<span class="token operator">+</span>v2
<span class="token punctuation">}</span>

<span class="token function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span><span class="token number">10</span> <span class="token punctuation">,</span>v2<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">)</span>  <span class="token comment">//30</span>
</code></pre></div><h3 id="函数注释"><a href="#函数注释" class="header-anchor">#</a> 函数注释</h3> <p><strong>官方建议文档</strong> <a href="https://www.swift.org/documentation/#api-design-guidelines" target="_blank" rel="noopener noreferrer">swift api-design-guidelines<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">/// 求和 [概述]</span>
<span class="token comment">///</span>
<span class="token comment">/// 更详细的描述,返回两个数的和</span>
<span class="token comment">///</span>
<span class="token comment">/// - Parameter v1:第1个整数</span>
<span class="token comment">/// - Parameter v2:第2个整数</span>
<span class="token comment">/// - Returns ： 两个整数的和</span>
<span class="token comment">///</span>
<span class="token comment">/// - Note : 传入两个整数即可</span>
<span class="token comment">/// - Returns: &lt;#description#&gt;</span>
<span class="token keyword">func</span> <span class="token function-definition function">sumRet</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token punctuation">,</span>v2<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> v1 <span class="token operator">+</span> v2
<span class="token punctuation">}</span>
</code></pre></div><p>效果如图: options 单击方法名</p> <img src="https://gitee.com/cnmz/images/raw/master/mdpic/image-20220115153740641.png" alt="image-20220115153740641" style="zoom:50%;"> <h3 id="参数标签"><a href="#参数标签" class="header-anchor">#</a> 参数标签</h3> <p><strong>可以修改参数标签</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">goToWork</span><span class="token punctuation">(</span>at time<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;this time is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">time</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">goToWork</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span><span class="token string-literal"><span class="token string">&quot;08:30&quot;</span></span><span class="token punctuation">)</span>
</code></pre></div><p>可用使用下划线 _ 省略参数标签</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> v1<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token punctuation">,</span><span class="token omit keyword">_</span> v2<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span><span class="token punctuation">{</span>
	v1<span class="token operator">+</span>v2
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="默认参数值-省略参数标签-default-parameter-value"><a href="#默认参数值-省略参数标签-default-parameter-value" class="header-anchor">#</a> 默认参数值 省略参数标签 _ ( Default Parameter Value)</h3> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">check</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;nobody&quot;</span></span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> job<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;none&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;name=</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, age=</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">age</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, job=</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">job</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token function">check</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Jack&quot;</span></span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> job<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Doctor&quot;</span></span><span class="token punctuation">)</span> <span class="token comment">// name=Jack, age=20, job=Doctor</span>
<span class="token function">check</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Rose&quot;</span></span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token comment">// name=Rose, age=18, job=none</span>
<span class="token function">check</span><span class="token punctuation">(</span>age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> job<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Batman&quot;</span></span><span class="token punctuation">)</span> <span class="token comment">// name=nobody, age=10, job=Batman</span>
<span class="token function">check</span><span class="token punctuation">(</span>age<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token comment">// name=nobody, age=15, job=none</span>
</code></pre></div><ul><li><p>C++的默认参数值有个限制：必须从右往左设置。由于Swift拥有参数标签，因此并没有此类限制</p></li> <li><p>但是在省略参数标签时，需要特别注意，避免出错</p></li></ul> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// 这里的middle不可以省略参数标签</span>
<span class="token keyword">func</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> first<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> middle<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token omit keyword">_</span> last<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span>middle<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="可变参数-variadic-parameter"><a href="#可变参数-variadic-parameter" class="header-anchor">#</a> 可变参数 ( Variadic Parameter )</h3> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> numbers<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
<span class="token keyword">var</span> total <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> number <span class="token keyword">in</span> numbers <span class="token punctuation">{</span>
total <span class="token operator">+=</span> number
<span class="token punctuation">}</span>
<span class="token keyword">return</span> total
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span> <span class="token comment">// 100</span>
</code></pre></div><p><strong>一个函数最多只能有1个可变参数</strong></p> <p><strong>紧跟在可变参数后面的参数不能省略参数标签</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// 参数string不能省略标签</span>
<span class="token keyword">func</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> numbers<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">...</span><span class="token punctuation">,</span> string<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token omit keyword">_</span> other<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Jack&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;Rose&quot;</span></span><span class="token punctuation">)</span>
</code></pre></div><h3 id="swift-自带的print函数"><a href="#swift-自带的print函数" class="header-anchor">#</a> Swift 自带的Print函数</h3> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">/// - Parameters:</span>
<span class="token comment">/// - items: Zero or more items to print.</span>
<span class="token comment">/// - separator: A string to print between each item. The default is a single space (`&quot; &quot;`).</span>
<span class="token comment">/// - terminator: The string to print after all items have been printed. The</span>
<span class="token comment">/// default is a newline (`&quot;\n&quot;`).</span>
<span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function-definition function">print</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> items<span class="token punctuation">:</span> <span class="token keyword">Any</span><span class="token operator">...</span><span class="token punctuation">,</span> separator<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot; &quot;</span></span><span class="token punctuation">,</span> terminator<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;\n&quot;</span></span><span class="token punctuation">)</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>print(1, 2, 3, 4, 5) // 1 2 3 4 5
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>print(1, 2, 3, 4, 5, separator: &quot;_&quot;) // 1_2_3_4_5
</code></pre></div><div class="language-swift extra-class"><pre class="language-swift"><code><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;My name is Jake.&quot;</span></span><span class="token punctuation">,</span> terminator<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;My age is 18.&quot;</span></span><span class="token punctuation">)</span>
<span class="token comment">// My name is Jake.My age is 18.</span>
</code></pre></div><h3 id="输入输出参数-in-out-parameter"><a href="#输入输出参数-in-out-parameter" class="header-anchor">#</a> 输入输出参数（In-Out Parameter)</h3> <p><strong>可以用inout定义一个输入输出参数：可以在函数内部修改外部实参的值</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">swapValues</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> v1<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token omit keyword">_</span> v2<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">let</span> tmp <span class="token operator">=</span> v1
v1 <span class="token operator">=</span> v2
v2 <span class="token operator">=</span> tmp
<span class="token punctuation">}</span>
<span class="token keyword">var</span> num1 <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">var</span> num2 <span class="token operator">=</span> <span class="token number">20</span>
<span class="token function">swapValues</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>num1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>num2<span class="token punctuation">)</span>
</code></pre></div><ul><li><p>可变参数不能标记为inout</p></li> <li><p>inout参数不能有默认值</p></li> <li><p>inout参数只能传入可以被多次赋值的</p></li> <li><p>inout参数的本质是地址传递（引用传递）</p></li></ul> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">swapValues</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> v1<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token omit keyword">_</span> v2<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>v2<span class="token punctuation">,</span> v1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="inout参数的本质是地址传递-引用传递-汇编观察编译过程"><a href="#inout参数的本质是地址传递-引用传递-汇编观察编译过程" class="header-anchor">#</a> inout参数的本质是地址传递（引用传递）--汇编观察编译过程</h3> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">func</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> num<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Int</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    num <span class="token operator">=</span> <span class="token number">20</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>number<span class="token punctuation">)</span>
</code></pre></div><p><strong>汇编结果</strong> 查看汇编指令，可以看到调用方式为地址传递，而不是mov方法</p> <div class="language-commonlisp extra-class"><pre class="language-text"><code>testSwift`main:
    0x100003f18 &lt;+0&gt;:  sub    sp, sp, #0x40             ; =0x40 
    0x100003f1c &lt;+4&gt;:  stp    x29, x30, [sp, #0x30]
    0x100003f20 &lt;+8&gt;:  add    x29, sp, #0x30            ; =0x30 
    0x100003f24 &lt;+12&gt;: adrp   x9, 5
    0x100003f28 &lt;+16&gt;: adrp   x0, 5
    0x100003f2c &lt;+20&gt;: add    x0, x0, #0x0              ; =0x0 
    0x100003f30 &lt;+24&gt;: str    x0, [sp, #0x8]
    0x100003f34 &lt;+28&gt;: mov    w8, #0xa
    0x100003f38 &lt;+32&gt;: str    x8, [x9]
    0x100003f3c &lt;+36&gt;: add    x1, sp, #0x18             ; =0x18 
    0x100003f40 &lt;+40&gt;: str    x1, [sp, #0x10]
    0x100003f44 &lt;+44&gt;: mov    w8, #0x21
    0x100003f48 &lt;+48&gt;: mov    x2, x8
    0x100003f4c &lt;+52&gt;: mov    x3, #0x0
-&gt;  0x100003f50 &lt;+56&gt;: bl     0x100003f90               ; symbol stub for: swift_beginAccess
    0x100003f54 &lt;+60&gt;: ldr    x0, [sp, #0x8]
    0x100003f58 &lt;+64&gt;: bl     0x100003f74               ; testSwift.test(inout Swift.Int) -&gt; () at main.swift:3
    0x100003f5c &lt;+68&gt;: ldr    x0, [sp, #0x10]
    0x100003f60 &lt;+72&gt;: bl     0x100003f9c               ; symbol stub for: swift_endAccess
    0x100003f64 &lt;+76&gt;: mov    w0, #0x0
    0x100003f68 &lt;+80&gt;: ldp    x29, x30, [sp, #0x30]
    0x100003f6c &lt;+84&gt;: add    sp, sp, #0x40             ; =0x40 
    0x100003f70 &lt;+88&gt;: ret    

</code></pre></div><blockquote><p>mov  w8, #0x14</p></blockquote> <div class="language-commonlisp extra-class"><pre class="language-text"><code>testSwift`test(_:):
    0x100003f74 &lt;+0&gt;:  sub    sp, sp, #0x10             ; =0x10 
    0x100003f78 &lt;+4&gt;:  str    xzr, [sp, #0x8]
    0x100003f7c &lt;+8&gt;:  str    x0, [sp, #0x8]
    0x100003f80 &lt;+12&gt;: mov    w8, #0x14  								;十六进制 0x14 代表20 将20移动给w8
    0x100003f84 &lt;+16&gt;: str    x8, [x0]
-&gt;  0x100003f88 &lt;+20&gt;: add    sp, sp, #0x10             ; =0x10 
    0x100003f8c &lt;+24&gt;: ret   
</code></pre></div><h3 id="函数重载-function-overload"><a href="#函数重载-function-overload" class="header-anchor">#</a> 函数重载（Function Overload)</h3> <p>规则</p> <ul><li><p>函数名相同</p></li> <li><p>参数个数不同 || 参数类型不同 || 参数标签不同</p></li></ul> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// 函数重载</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    v1 <span class="token operator">+</span> v2
<span class="token punctuation">}</span>
<span class="token comment">// 参数个数不同</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> v3<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    v1 <span class="token operator">+</span> v2 <span class="token operator">+</span> v3
<span class="token punctuation">}</span>
<span class="token comment">// 参数类型不同</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Double</span> <span class="token punctuation">{</span>
    <span class="token class-name">Double</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span> <span class="token operator">+</span> v2
<span class="token punctuation">}</span>
<span class="token comment">// 参数类型不同</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Double</span> <span class="token punctuation">{</span>
    v1 <span class="token operator">+</span> <span class="token class-name">Double</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 参数标签不同</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
</code></pre></div><p><strong>函数重载注意点</strong></p> <ol><li><strong>返回值类型与函数重载无关</strong></li></ol> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">test01</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span>v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span> v1 <span class="token operator">+</span> v2 <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function-definition function">test01</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span>v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">test01</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>   
<span class="token operator">*</span> <span class="token class-name">Ambiguous</span> use of '<span class="token function">test01</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span>v2<span class="token punctuation">:</span><span class="token punctuation">)</span>'
</code></pre></div><ol start="2"><li><strong>默认参数值和函数重载一起使用产生二义性时</strong>，编译器并不会报错（在C++中会报错）</li></ol> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
v1 <span class="token operator">+</span> v2
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> v3<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
v1 <span class="token operator">+</span> v2 <span class="token operator">+</span> v3
<span class="token punctuation">}</span>
<span class="token comment">// 会调用sum(v1: Int, v2: Int) </span>
<span class="token function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li><strong>可变参数、省略参数标签、函数重载一起使用产生二义性时</strong>，编译器有可能会报错</li></ol> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
v1 <span class="token operator">+</span> v2
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token omit keyword">_</span> v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
v1 <span class="token operator">+</span> v2
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> numbers<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
<span class="token keyword">var</span> total <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> number <span class="token keyword">in</span> numbers <span class="token punctuation">{</span>
total <span class="token operator">+=</span> number
<span class="token punctuation">}</span>
<span class="token keyword">return</span> total
<span class="token punctuation">}</span>
<span class="token comment">// error: ambiguous use of 'sum'</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="内联函数-inline-function"><a href="#内联函数-inline-function" class="header-anchor">#</a> 内联函数（Inline Function）</h3> <p>如果开启了编译器优化（Release模式默认会开启优化），编译器会自动将<strong>某些函数</strong>变成内联函数</p> <p>内联函数 : <strong>将函数调用展开成函数体</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;test123&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>debug模式开启优化，print断点编译结果，直接进入main函数，没有进入test函数但是执行了test函数</strong></p> <div class="language-commonlisp extra-class"><pre class="language-text"><code>testSwift`main:
    0x100003de4 &lt;+0&gt;:   stp    x20, x19, [sp, #-0x20]!
    0x100003de8 &lt;+4&gt;:   stp    x29, x30, [sp, #0x10]
    0x100003dec &lt;+8&gt;:   add    x29, sp, #0x10            ; =0x10 
    0x100003df0 &lt;+12&gt;:  adr    x0, #0x4210               ; demangling cache variable for type metadata for Swift._ContiguousArrayStorage&lt;Any&gt;
    0x100003df4 &lt;+16&gt;:  nop    
    0x100003df8 &lt;+20&gt;:  bl     0x100003ee4               ; __swift_instantiateConcreteTypeFromMangledName at &lt;compiler-generated&gt;
    0x100003dfc &lt;+24&gt;:  mov    w1, #0x40
    0x100003e00 &lt;+28&gt;:  mov    w2, #0x7
    0x100003e04 &lt;+32&gt;:  bl     0x100003f2c               ; symbol stub for: swift_allocObject
    0x100003e08 &lt;+36&gt;:  mov    x19, x0
    0x100003e0c &lt;+40&gt;:  nop    
    0x100003e10 &lt;+44&gt;:  ldr    q0, 0x100003f50
-&gt;  0x100003e14 &lt;+48&gt;:  nop    
    0x100003e18 &lt;+52&gt;:  ldr    x8, #0x1e8                ; (void *)0x000000020cd5be58: type metadata for Swift.String
    0x100003e1c &lt;+56&gt;:  str    q0, [x0, #0x10]
    0x100003e20 &lt;+60&gt;:  str    x8, [x0, #0x38]
    0x100003e24 &lt;+64&gt;:  mov    x8, #0x6574
    0x100003e28 &lt;+68&gt;:  movk   x8, #0x7473, lsl #16
    0x100003e2c &lt;+72&gt;:  movk   x8, #0x3231, lsl #32
    0x100003e30 &lt;+76&gt;:  movk   x8, #0x33, lsl #48
    0x100003e34 &lt;+80&gt;:  mov    x9, #-0x1900000000000000
    0x100003e38 &lt;+84&gt;:  stp    x8, x9, [x0, #0x20]
    0x100003e3c &lt;+88&gt;:  mov    w1, #0x20
    0x100003e40 &lt;+92&gt;:  mov    x2, #-0x1f00000000000000
    0x100003e44 &lt;+96&gt;:  mov    w3, #0xa
    0x100003e48 &lt;+100&gt;: mov    x4, #-0x1f00000000000000
    0x100003e4c &lt;+104&gt;: bl     0x100003f20               ; symbol stub for: Swift.print(_: Any..., separator: Swift.String, terminator: Swift.String) -&gt; ()
    0x100003e50 &lt;+108&gt;: mov    x0, x19
    0x100003e54 &lt;+112&gt;: bl     0x100003f44               ; symbol stub for: swift_release
    0x100003e58 &lt;+116&gt;: mov    w0, #0x0
    0x100003e5c &lt;+120&gt;: ldp    x29, x30, [sp, #0x10]
    0x100003e60 &lt;+124&gt;: ldp    x20, x19, [sp], #0x20
    0x100003e64 &lt;+128&gt;: ret    
</code></pre></div><p><strong>哪些函数不会被自动内联？</strong></p> <ul><li><p>函数体比较长</p></li> <li><p>包含递归调用</p></li> <li><p>包含动态派发</p></li> <li><p>...</p></li></ul> <h3 id="函数类型-function-type"><a href="#函数类型-function-type" class="header-anchor">#</a> 函数类型（Function Type）</h3> <p>每一个函数都是有类型的，函数类型由<strong>形式参数类型</strong>、<strong>返回值类型</strong>组成</p> <div class="language-swift extra-class"><pre class="language-swift"><code> <span class="token comment">// () -&gt; Void 或者 () -&gt; ()</span>
<span class="token keyword">func</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token comment">// (Int, Int) -&gt; Int</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
	a <span class="token operator">+</span> b
<span class="token punctuation">}</span> 
<span class="token comment">// 定义变量</span>
<span class="token comment">// 调用时不需要参数标签</span>
<span class="token keyword">var</span> fn<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token operator">=</span> sum
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> 
</code></pre></div><p><strong>函数类型作为函数参数</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// 函数类型作为函数参数</span>
<span class="token keyword">func</span> <span class="token function-definition function">next</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> a<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span><span class="token punctuation">{</span>
    a<span class="token operator">+</span><span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function-definition function">previous</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> b<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span><span class="token punctuation">{</span>
    b<span class="token operator">-</span><span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">forward</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> forward<span class="token punctuation">:</span><span class="token class-name">Bool</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token class-name">Int</span><span class="token punctuation">{</span>
    forward <span class="token operator">?</span> next <span class="token punctuation">:</span> previous
<span class="token punctuation">}</span>
<span class="token function">forward</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">forward</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p>返回值是<strong>函数类型</strong>的函数，叫做**高阶函数（**Higher-Order Function）</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// 所以此函数为高阶函数</span>
<span class="token keyword">func</span> <span class="token function-definition function">forward</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> forward<span class="token punctuation">:</span><span class="token class-name">Bool</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token class-name">Int</span><span class="token punctuation">{</span>
    forward <span class="token operator">?</span> next <span class="token punctuation">:</span> previous
<span class="token punctuation">}</span>
</code></pre></div><h3 id="typealias"><a href="#typealias" class="header-anchor">#</a> typealias</h3> <p><strong>typealias用来给类型起别名</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">typealias</span> <span class="token class-name">Byte</span> <span class="token operator">=</span> <span class="token class-name">Int8</span>
<span class="token keyword">typealias</span> <span class="token class-name">Short</span> <span class="token operator">=</span> <span class="token class-name">Int16</span>
<span class="token keyword">typealias</span> <span class="token class-name">Long</span> <span class="token operator">=</span> <span class="token class-name">Int64</span>
</code></pre></div><div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">typealias</span> <span class="token class-name">Date</span> <span class="token operator">=</span> <span class="token punctuation">(</span>year<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> month<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> day<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> date<span class="token punctuation">:</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">print</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span>year<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2011</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">typealias</span> <span class="token class-name">IntFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span>
<span class="token keyword">func</span> <span class="token function-definition function">difference</span><span class="token punctuation">(</span>v1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> v2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
v1 <span class="token operator">-</span> v2
<span class="token punctuation">}</span>
<span class="token keyword">let</span> fn<span class="token punctuation">:</span> <span class="token class-name">IntFn</span> <span class="token operator">=</span> difference
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 10</span>
<span class="token keyword">func</span> <span class="token function-definition function">setFn</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> fn<span class="token punctuation">:</span> <span class="token class-name">IntFn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token function">setFn</span><span class="token punctuation">(</span>difference<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function-definition function">getFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">IntFn</span> <span class="token punctuation">{</span> difference <span class="token punctuation">}</span>
</code></pre></div><p><strong>按照Swift标准库的定义，Void就是空元组()</strong></p> <div class="language- extra-class"><pre class="language-text"><code>public typealias Void = ()
</code></pre></div><img src="https://gitee.com/cnmz/images/raw/master/img/202202072238209.png" alt="image-20220207223803481" style="zoom:50%;"> <h3 id="嵌套函数-nested-function"><a href="#嵌套函数-nested-function" class="header-anchor">#</a> 嵌套函数（Nested Function）</h3> <p><strong>将函数定义在函数内部</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">forward</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> forward<span class="token punctuation">:</span> <span class="token class-name">Bool</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
  <span class="token keyword">func</span> <span class="token function-definition function">next</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> input<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    input <span class="token operator">+</span> <span class="token number">1</span> 
  <span class="token punctuation">}</span>
  <span class="token keyword">func</span> <span class="token function-definition function">previous</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> input<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    input <span class="token operator">-</span> <span class="token number">1</span> 
  <span class="token punctuation">}</span>
	<span class="token keyword">return</span> forward <span class="token operator">?</span> next <span class="token punctuation">:</span> previous
<span class="token punctuation">}</span>
<span class="token function">forward</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>
<span class="token function">forward</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/./swift/flow/" class="prev">
        流程控制
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="./assets/js/app.f139b321.js" defer></script><script src="./assets/js/2.3429f92b.js" defer></script><script src="./assets/js/23.39a089e5.js" defer></script>
  </body>
</html>
