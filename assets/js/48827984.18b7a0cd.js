"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1505],{3240:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"Vue/ReactivityApi","title":"\u83b7\u53d6\u54cd\u5e94\u5f0f\u6570\u636e","description":"reactivity api//v3.vuejs.org/api/reactivity-api","source":"@site/docs/Vue/06.ReactivityApi.md","sourceDirName":"Vue","slug":"/Vue/ReactivityApi","permalink":"/docs/Vue/ReactivityApi","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Vue/06.ReactivityApi.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{},"sidebar":"Vue3SiderBar","previous":{"title":"\u7ec4\u4ef6\u7684\u53d8\u5316","permalink":"/docs/Vue/AsyncComponents"},"next":{"title":"Composition API","permalink":"/docs/Vue/compostionApi"}}');var c=s(4848),r=s(8453);const o={},l="\u83b7\u53d6\u54cd\u5e94\u5f0f\u6570\u636e",i={},a=[];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"\u83b7\u53d6\u54cd\u5e94\u5f0f\u6570\u636e",children:"\u83b7\u53d6\u54cd\u5e94\u5f0f\u6570\u636e"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["reactivity api: ",(0,c.jsx)(n.a,{href:"https://v3.vuejs.org/api/reactivity-api",children:"https://v3.vuejs.org/api/reactivity-api"})]}),"\n"]}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{style:{textAlign:"left"},children:"API"}),(0,c.jsx)(n.th,{children:"\u4f20\u5165"}),(0,c.jsx)(n.th,{children:"\u8fd4\u56de"}),(0,c.jsx)(n.th,{children:"\u5907\u6ce8"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"reactive"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"plain-object"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"\u5bf9\u8c61\u4ee3\u7406"})}),(0,c.jsx)(n.td,{children:"\u6df1\u5ea6\u4ee3\u7406\u5bf9\u8c61\u4e2d\u7684\u6240\u6709\u6210\u5458"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"readonly"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"plain-object"})," or ",(0,c.jsx)(n.code,{children:"proxy"})]}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"\u5bf9\u8c61\u4ee3\u7406"})}),(0,c.jsx)(n.td,{children:"\u53ea\u80fd\u8bfb\u53d6\u4ee3\u7406\u5bf9\u8c61\u4e2d\u7684\u6210\u5458\uff0c\u4e0d\u53ef\u4fee\u6539"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"ref"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"any"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"{ value: ... }"})}),(0,c.jsxs)(n.td,{children:["\u5bf9value\u7684\u8bbf\u95ee\u662f\u54cd\u5e94\u5f0f\u7684",(0,c.jsx)("br",{}),"\u5982\u679c\u7ed9value\u7684\u503c\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c",(0,c.jsx)("br",{}),"\u5219\u4f1a\u901a\u8fc7",(0,c.jsx)(n.code,{children:"reactive"}),"\u51fd\u6570\u8fdb\u884c\u4ee3\u7406",(0,c.jsx)("br",{}),"\u5982\u679c\u5df2\u7ecf\u662f\u4ee3\u7406\uff0c\u5219\u76f4\u63a5\u4f7f\u7528\u4ee3\u7406"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"computed"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"function"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"{ value: ... }"})}),(0,c.jsxs)(n.td,{children:["\u5f53\u8bfb\u53d6value\u503c\u65f6\uff0c",(0,c.jsx)("br",{}),"\u4f1a",(0,c.jsx)(n.strong,{children:"\u6839\u636e\u60c5\u51b5"}),"\u51b3\u5b9a\u662f\u5426\u8981\u8fd0\u884c\u51fd\u6570"]})]})]})]}),"\n",(0,c.jsx)(n.p,{children:"\u5e94\u7528\uff1a"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u5982\u679c\u60f3\u8981\u8ba9\u4e00\u4e2a\u5bf9\u8c61\u53d8\u4e3a\u54cd\u5e94\u5f0f\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,c.jsx)(n.code,{children:"reactive"}),"\u6216",(0,c.jsx)(n.code,{children:"ref"})]}),"\n",(0,c.jsxs)(n.li,{children:["\u5982\u679c\u60f3\u8981\u8ba9\u4e00\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u53ea\u8bfb\uff0c\u4f7f\u7528",(0,c.jsx)(n.code,{children:"readonly"})]}),"\n",(0,c.jsxs)(n.li,{children:["\u5982\u679c\u60f3\u8981\u8ba9\u4e00\u4e2a\u975e\u5bf9\u8c61\u6570\u636e\u53d8\u4e3a\u54cd\u5e94\u5f0f\u6570\u636e\uff0c\u4f7f\u7528",(0,c.jsx)(n.code,{children:"ref"})]}),"\n",(0,c.jsxs)(n.li,{children:["\u5982\u679c\u60f3\u8981\u6839\u636e\u5df2\u77e5\u7684\u54cd\u5e94\u5f0f\u6570\u636e\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u54cd\u5e94\u5f0f\u6570\u636e\uff0c\u4f7f\u7528",(0,c.jsx)(n.code,{children:"computed"})]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\u7b14\u8bd5\u98981\uff1a\u4e0b\u9762\u7684\u4ee3\u7801\u8f93\u51fa\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:'import { reactive, readonly, ref, computed } from "vue";\n\nconst state = reactive({\n  firstName: "Xu Ming",\n  lastName: "Deng",\n});\nconst fullName = computed(() => {\n  console.log("changed");\n  return `${state.lastName}, ${state.firstName}`;\n});\nconsole.log("state ready");\nconsole.log("fullname is", fullName.value);\nconsole.log("fullname is", fullName.value);\nconst imState = readonly(state);\nconsole.log(imState === state);\n\nconst stateRef = ref(state);\nconsole.log(stateRef.value === state);\n\nstate.firstName = "Cheng";\nstate.lastName = "Ji";\n\nconsole.log(imState.firstName, imState.lastName);\nconsole.log("fullname is", fullName.value);\nconsole.log("fullname is", fullName.value);\n\nconst imState2 = readonly(stateRef);\nconsole.log(imState2.value === stateRef.value);\n\n'})}),"\n",(0,c.jsx)(n.p,{children:"\u7b14\u8bd5\u98982\uff1a\u6309\u7167\u4e0b\u9762\u7684\u8981\u6c42\u5b8c\u6210\u51fd\u6570"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"function useUser(){\n  // \u5728\u8fd9\u91cc\u8865\u5168\u51fd\u6570\n  return {\n    user, // \u8fd9\u662f\u4e00\u4e2a\u53ea\u8bfb\u7684\u7528\u6237\u5bf9\u8c61\uff0c\u54cd\u5e94\u5f0f\u6570\u636e\uff0c\u9ed8\u8ba4\u4e3a\u4e00\u4e2a\u7a7a\u5bf9\u8c61\n    setUserName, // \u8fd9\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4f20\u5165\u7528\u6237\u59d3\u540d\uff0c\u7528\u4e8e\u4fee\u6539\u7528\u6237\u7684\u540d\u79f0\n    setUserAge, // \u8fd9\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4f20\u5165\u7528\u6237\u5e74\u9f84\uff0c\u7528\u6237\u4fee\u6539\u7528\u6237\u7684\u5e74\u9f84\n  }\n}\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",children:"import { reactive, readonly, ref, computed } from 'vue'\n\nfunction useUser() {\n  const userOrign = reactive({})\n  const user = readonly(userOrign)\n  const setUserName = (name) => {\n    userOrign.name = name\n  }\n  const setUserAge = (age) => {\n    userOrign.age = age\n  }\n  return {\n    user,\n    setUserName,\n    setUserAge,\n  }\n}\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u7b14\u8bd5\u98983\uff1a\u6309\u7167\u4e0b\u9762\u7684\u8981\u6c42\u5b8c\u6210\u51fd\u6570"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"function useDebounce(obj, duration){\n  // \u5728\u8fd9\u91cc\u8865\u5168\u51fd\u6570\n  return {\n    value, // \u8fd9\u91cc\u662f\u4e00\u4e2a\u53ea\u8bfb\u5bf9\u8c61\uff0c\u54cd\u5e94\u5f0f\u6570\u636e\uff0c\u9ed8\u8ba4\u503c\u4e3a\u53c2\u6570\u503c\n    setValue // \u8fd9\u91cc\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4f20\u5165\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff0c\u9700\u8981\u628a\u65b0\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u6df7\u5408\u5230\u539f\u59cb\u5bf9\u8c61\u4e2d\uff0c\u6df7\u5408\u64cd\u4f5c\u9700\u8981\u5728duration\u7684\u65f6\u95f4\u4e2d\u9632\u6296\n  }\n}\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"// \u89e3\u9898\u4ee3\u7801\nconst timeId = null\n\nfunction useDebounce(obj, duration) {\n  const objOrigin = reactive(obj)\n  const value = readonly(objOrigin)\n\n  const setValue = (newVal) => {\n    Object.entries(newVal).forEach(([k, v]) => {\n      console.log('\ud83d\ude80 ~ Object.entries ~ newVal:', newVal)\n      clearTimeout(timeId)\n      setTimeout(() => {\n        objOrigin[k] = v\n      })\n    })\n  }\n  return {\n    value, \n    setValue, \n  }\n}\n\nconst { value, setValue } = useDebounce({ a: 1, b: 2 }, 3000)\nwindow.value = value\nwindow.setValue = setValue\n"})}),"\n",(0,c.jsx)(n.h1,{id:"\u76d1\u542c\u6570\u636e\u53d8\u5316",children:"\u76d1\u542c\u6570\u636e\u53d8\u5316"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"watchEffect"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"const stop = watchEffect(() => {\n  // \u8be5\u51fd\u6570\u4f1a\u7acb\u5373\u6267\u884c\uff0c\u7136\u540e\u8ffd\u4e2d\u51fd\u6570\u4e2d\u7528\u5230\u7684\u54cd\u5e94\u5f0f\u6570\u636e\uff0c\u54cd\u5e94\u5f0f\u6570\u636e\u53d8\u5316\u540e\u4f1a\u518d\u6b21\u6267\u884c\n})\n\n// \u901a\u8fc7\u8c03\u7528stop\u51fd\u6570\uff0c\u4f1a\u505c\u6b62\u76d1\u542c\nstop(); // \u505c\u6b62\u76d1\u542c\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"watch"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"// \u7b49\u6548\u4e8evue2\u7684$watch\n\n// \u76d1\u542c\u5355\u4e2a\u6570\u636e\u7684\u53d8\u5316\nconst state = reactive({ count: 0 })\nwatch(() => state.count, (newValue, oldValue) => {\n  // ...\n}, options)\n\nconst countRef = ref(0);\nwatch(countRef, (newValue, oldValue) => {\n  // ...\n}, options)\n\n// \u76d1\u542c\u591a\u4e2a\u6570\u636e\u7684\u53d8\u5316\nwatch([() => state.count, countRef], ([new1, new2], [old1, old2]) => {\n  // ...\n});\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsxs)(n.strong,{children:["\u6ce8\u610f\uff1a\u65e0\u8bba\u662f",(0,c.jsx)(n.code,{children:"watchEffect"}),"\u8fd8\u662f",(0,c.jsx)(n.code,{children:"watch"}),"\uff0c\u5f53\u4f9d\u8d56\u9879\u53d8\u5316\u65f6\uff0c\u56de\u8c03\u51fd\u6570\u7684\u8fd0\u884c\u90fd\u662f\u5f02\u6b65\u7684\uff08\u5fae\u961f\u5217\uff09"]})}),"\n",(0,c.jsxs)(n.p,{children:["\u5e94\u7528\uff1a\u9664\u975e\u9047\u5230\u4e0b\u9762\u7684\u573a\u666f\uff0c\u5426\u5219\u5747\u5efa\u8bae\u9009\u62e9",(0,c.jsx)(n.code,{children:"watchEffect"})]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u4e0d\u5e0c\u671b\u56de\u8c03\u51fd\u6570\u4e00\u5f00\u59cb\u5c31\u6267\u884c"}),"\n",(0,c.jsx)(n.li,{children:"\u6570\u636e\u6539\u53d8\u65f6\uff0c\u9700\u8981\u53c2\u8003\u65e7\u503c"}),"\n",(0,c.jsx)(n.li,{children:"\u9700\u8981\u76d1\u63a7\u4e00\u4e9b\u56de\u8c03\u51fd\u6570\u4e2d\u4e0d\u4f1a\u7528\u5230\u7684\u6570\u636e"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\u7b14\u8bd5\u9898: \u4e0b\u9762\u7684\u4ee3\u7801\u8f93\u51fa\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:'import { reactive, watchEffect, watch } from "vue";\nconst state = reactive({\n  count: 0,\n});\nwatchEffect(() => {\n  console.log("watchEffect", state.count);\n});\nwatch(\n  () => state.count,\n  (count, oldCount) => {\n    console.log("watch", count, oldCount);\n  }\n);\nconsole.log("start");\nsetTimeout(() => {\n  console.log("time out");\n  state.count++;\n  state.count++;\n});\nstate.count++;\nstate.count++;\n\nconsole.log("end");\n\n'})}),"\n",(0,c.jsx)(n.h1,{id:"\u5224\u65ad",children:"\u5224\u65ad"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"API"}),(0,c.jsx)(n.th,{children:"\u542b\u4e49"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"isProxy"})}),(0,c.jsxs)(n.td,{children:["\u5224\u65ad\u67d0\u4e2a\u6570\u636e\u662f\u5426\u662f\u7531",(0,c.jsx)(n.code,{children:"reactive"}),"\u6216",(0,c.jsx)(n.code,{children:"readonly"})]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"isReactive"})}),(0,c.jsxs)(n.td,{children:["\u5224\u65ad\u67d0\u4e2a\u6570\u636e\u662f\u5426\u662f\u901a\u8fc7",(0,c.jsx)(n.code,{children:"reactive"}),"\u521b\u5efa\u7684",(0,c.jsx)("br",{}),"\u8be6\u7ec6:",(0,c.jsx)(n.a,{href:"https://v3.vuejs.org/api/basic-reactivity.html#isreactive",children:"https://v3.vuejs.org/api/basic-reactivity.html#isreactive"})]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"isReadonly"})}),(0,c.jsxs)(n.td,{children:["\u5224\u65ad\u67d0\u4e2a\u6570\u636e\u662f\u5426\u662f\u901a\u8fc7",(0,c.jsx)(n.code,{children:"readonly"}),"\u521b\u5efa\u7684"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"isRef"})}),(0,c.jsxs)(n.td,{children:["\u5224\u65ad\u67d0\u4e2a\u6570\u636e\u662f\u5426\u662f\u4e00\u4e2a",(0,c.jsx)(n.code,{children:"ref"}),"\u5bf9\u8c61"]})]})]})]}),"\n",(0,c.jsx)(n.h1,{id:"\u8f6c\u6362",children:"\u8f6c\u6362"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"unref"})}),"\n",(0,c.jsxs)(n.p,{children:["\u7b49\u540c\u4e8e\uff1a",(0,c.jsx)(n.code,{children:"isRef(val) ? val.value : val"})]}),"\n",(0,c.jsx)(n.p,{children:"\u5e94\u7528\uff1a"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"function useNewTodo(todos){\n  todos = unref(todos);\n  // ...\n}\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"toRef"})}),"\n",(0,c.jsx)(n.p,{children:"\u5f97\u5230\u4e00\u4e2a\u54cd\u5e94\u5f0f\u5bf9\u8c61\u67d0\u4e2a\u5c5e\u6027\u7684ref\u683c\u5f0f"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"const state = reactive({\n  foo: 1,\n  bar: 2\n})\n\nconst fooRef = toRef(state, 'foo'); // fooRef: {value: ...}\n\nfooRef.value++\nconsole.log(state.foo) // 2\n\nstate.foo++\nconsole.log(fooRef.value) // 3\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"toRefs"})}),"\n",(0,c.jsxs)(n.p,{children:["\u628a\u4e00\u4e2a\u54cd\u5e94\u5f0f\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u8f6c\u6362\u4e3aref\u683c\u5f0f\uff0c\u7136\u540e\u5305\u88c5\u5230\u4e00\u4e2a",(0,c.jsx)(n.code,{children:"plain-object"}),"\u4e2d\u8fd4\u56de"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"const state = reactive({\n  foo: 1,\n  bar: 2\n})\n\nconst stateAsRefs = toRefs(state)\n/*\nstateAsRefs: not a proxy\n{\n  foo: { value: ... },\n  bar: { value: ... }\n}\n*/\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u5e94\u7528\uff1a"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"setup(){\n  const state1 = reactive({a:1, b:2});\n  const state2 = reactive({c:3, d:4});\n  return {\n    ...state1, // lost reactivity\n    ...state2 // lost reactivity\n  }\n}\n\nsetup(){\n  const state1 = reactive({a:1, b:2});\n  const state2 = reactive({c:3, d:4});\n  return {\n    ...toRefs(state1), // reactivity\n    ...toRefs(state2) // reactivity\n  }\n}\n// composition function\nfunction usePos(){\n  const pos = reactive({x:0, y:0});\n  return pos;\n}\n\nsetup(){\n  const {x, y} = usePos(); // lost reactivity\n  const {x, y} = toRefs(usePos()); // reactivity\n}\n"})}),"\n",(0,c.jsx)(n.h1,{id:"\u964d\u4f4e\u5fc3\u667a\u8d1f\u62c5",children:"\u964d\u4f4e\u5fc3\u667a\u8d1f\u62c5"}),"\n",(0,c.jsxs)(n.p,{children:["\u6240\u6709\u7684",(0,c.jsx)(n.code,{children:"composition function"}),"\u5747\u4ee5",(0,c.jsx)(n.code,{children:"ref"}),"\u7684\u7ed3\u679c\u8fd4\u56de\uff0c\u4ee5\u4fdd\u8bc1",(0,c.jsx)(n.code,{children:"setup"}),"\u51fd\u6570\u7684\u8fd4\u56de\u7ed3\u679c\u4e2d\u4e0d\u5305\u542b",(0,c.jsx)(n.code,{children:"reactive"}),"\u6216",(0,c.jsx)(n.code,{children:"readonly"}),"\u76f4\u63a5\u4ea7\u751f\u7684\u6570\u636e"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"function usePos(){\n  const pos = reactive({ x:0, y:0 });\n  return toRefs(pos); //  {x: refObj, y: refObj}\n}\nfunction useBooks(){\n  const books = ref([]);\n  return {\n    books // books is refObj\n  }\n}\nfunction useLoginUser(){\n  const user = readonly({\n    isLogin: false,\n    loginId: null\n  });\n  return toRefs(user); // { isLogin: refObj, loginId: refObj }  all ref is readonly\n}\n\nsetup(){\n  // \u5728setup\u51fd\u6570\u4e2d\uff0c\u5c3d\u91cf\u4fdd\u8bc1\u89e3\u6784\u3001\u5c55\u5f00\u51fa\u6765\u7684\u6240\u6709\u54cd\u5e94\u5f0f\u6570\u636e\u5747\u662fref\n  return {\n    ...usePos(),\n    ...useBooks(),\n    ...useLoginUser()\n  }\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(6540);const c={},r=t.createContext(c);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);